<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/styles.css">
    <!-- Semantic-UI CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://unpkg.com/easyinvoice/dist/easyinvoice.min.js"></script>
    <title>SolaiAgro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script defer src="js/greensFilter.js"></script>
  
   
    
</head>

<body>

    <!-- Sidebar Menu -->
    <div class="vertical-nav bg-white" id="sidebar">
        <div class="py-4 px-3 mb-4" style="background: linear-gradient(to top, #0066eb 0%, #65ce5d 68%);">
            <div class="media d-flex align-items-center"><img src="./images/solai logo.png" alt="..." width="65" class="mr-3 rounded-circle img-thumbnail shadow-sm">
                &emsp;<div class="media-body">
                    <h4 class="m-0"><p class="text-white">Solai Agro</p></h4>
                    <p class="font-weight-light text-white mb-0">(Admin)</p>
                </div>
            </div>
        </div>
        <center> 
            <button class="btn btn-danger" id="logoutBtnTop">Logout</button>
        </center>
        <h5 class="ui horizontal divider header text-primary">Project</h5>
        <ul class="nav flex-column bg-white mb-0">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link text-dark">
                    <i class="home icon"></i> Dashboard
                </a> 
            </li>
            <li class="nav-item">
                <a href="greens.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> Greens Entry
                </a> 
            </li>
            <li class="nav-item">
                <a href="greensFilter.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> Greens Status
                </a> 
            </li>
            <li class="nav-item">
                <a href="greensFilter.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> Greens Sales
                </a> 
            </li>
            <li class="nav-item">
                <a href="greens.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> purches
                </a> 
            </li>
        </ul>
        <h5 class="ui horizontal divider header text-primary">Customizing</h5>
        <ul class="nav flex-column bg-white mb-0">
            <li class="nav-item">
                <a href="Location.html" class="nav-link text-dark">
                    <i class="home icon"></i> Location
                </a>
            </li>
            <li class="nav-item">
                <a href="vendors.html" class="nav-link text-dark">
                    <i class="users icon"></i> Vendors
                </a>
            </li>
            <li class="nav-item">
                <a href="product.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> Product
                </a>
            </li>
        </ul>
        <h5 class="ui horizontal divider header text-primary">Admin Console</h5>
        <ul class="nav flex-column bg-white mb-0">
            <li class="nav-item">
                <a href="users.html" class="nav-link text-dark">
                    <i class="users icon"></i> Manage Users
                </a>
            </li>
            <li class="nav-item">
                <a href="greens.html" class="nav-link text-dark">
                    <i class="leaf icon"></i> Greens Arrival
                </a>
            </li>
            <a href="#" id="logoutBtn"><i class="sign-out icon"></i> Logout</a>
        </ul>
    </div>
<!-- Sidebar Menu end -->
    <!-- Page content holder -->
    <div class="page-content p-5" id="content" style="background: linear-gradient(to right, #e9edf1 47%, #38e07b 100%);">
          <!-- Toggle button -->
          <button id="sidebarCollapse" type="button" class="btn btn-light bg-white rounded-pill shadow-sm px-4 mb-4">
            <i class="align justify icon"></i><small class="text-uppercase font-weight-bold">Menu</small>
        </button>                   
        <!-- Page content -->
           <!-- Filter Form -->
           <div>
            <form id="filterForm" class="row g-3 mb-4">
         <div class="col-md-3">
           <label for="vendorFilter" class="form-label">Vendor</label>
           <input type="text" class="form-control" id="vendorFilter" placeholder="Enter vendor">
         </div>
         <div class="col-md-3">
           <label for="locationFilter" class="form-label">Location</label>
           <input type="text" class="form-control" id="locationFilter" placeholder="Enter location">
         </div>
         <div class="col-md-3">
           <label for="dateFrom" class="form-label">Date From</label>
           <input type="date" class="form-control" id="dateFrom">
         </div>
         <div class="col-md-3">
           <label for="dateTo" class="form-label">Date To</label>
           <input type="date" class="form-control" id="dateTo">
         </div>
         <div class="col-12">
           <button type="submit" class="btn btn-primary">Apply Filters</button>
         </div>
            </form>
          </div>
          <!-- Totals Display -->
          <div class="container mt-4">
            <h3 class="text-center mb-3">Greens Data Totals</h3>
            <table class="table table-bordered table-striped">
              <thead class="table-dark">
                <tr>
                  <th>Metric</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Total DC Weight</td>
                  <td id="totalDCSum">0</td>
                </tr>
                <tr>
                  <td>Total Factory Weight</td>
                  <td id="totalFactorySum">0</td>
                </tr>
                <tr>
                  <td>Total 160+</td>
                  <td id="totalSize160">0</td>
                </tr>
                <tr>
                  <td>Total 100+</td>
                  <td id="totalSize100">0</td>
                </tr>
                <tr>
                  <td>Total 30+</td>
                  <td id="totalSize30plus">0</td>
                </tr>
                <tr>
                  <td>Total 30-</td>
                  <td id="totalSize30minus">0</td>
                </tr>
                <tr>
                  <td>Total Shortage/Excess</td>
                  <td id="totalShortageExcess">0</td>
                </tr>
              </tbody>
            </table>
        </div>        
    </div>
   <!-- Logout functionality -->
    <script>
       

        // Logout functionality for the top navbar logout button
        document.getElementById("logoutBtnTop").addEventListener("click", function() {
            localStorage.removeItem("token"); // Remove the token from localStorage
            window.location.href = "login.html"; // Redirect to login page
        });

        // Toggle Sidebar functionality
        document.getElementById("sidebarToggle").addEventListener("click", function() {
            const sidebar = document.getElementById("sidebar");
            const content = document.getElementById("content");

            sidebar.classList.toggle("collapsed");
            content.classList.toggle("expanded");
        });
    </script>
    <!-- Semantic UI Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/semantic.min.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    
    <!-- Toggle Sidebar -->
    <script>
        $(function() {
            // Sidebar toggle behavior
            $('#sidebarCollapse').on('click', function() {
                $('#sidebar, #content').toggleClass('active');
            });
        });
    </script>
</body>

</html>
